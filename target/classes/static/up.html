<!DOCTYPE html>
<html lang="en">
<script src="js/jquery-3.7.1.js"></script>
<script type="text/javascript" src="js/upload.js"></script>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="modal-body">
    <form id="insertCourse" action="/course/addCourse" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label class="col-sm-5 control-label">文件描述</label>
            <div class="col-sm-10">
                <input class="form-control" placeholder="输入文件描述" name="fileDes" id="testFileDes"></input>
            </div>
        </div>
        <div class="form-group">
            <label for="inputPassword" class="col-sm-5 control-label">上传文件</label>
            <div class="col-sm-10">
                <input type="file" name="file" id="inputPassword"/>
            </div>
        </div>
        <div class="progress" id="progress" style="display: none;">
            <div class="progress-bar" role="progressbar" aria-valuenow="60"
                 aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
            </div>
        </div>
        <div id="connected" style="display: none;">
            <div>当前进度：<span id="first"></span></div>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button type="button" id="close" class="btn btn-default" data-dismiss="modal">关闭</button>
    <button type="button" id="addCourse" class="btn btn-primary">提交</button>
</div>
<script>
    $("#addCourse").click(function () {
        console.log("sssssssssssssssssss")
        $(this).attr("disabled", "disabled");
        $(this).html("正在上传，请耐心等候...");
        $("#progress").show();
        $("#connected").show();
        $(".progress-bar").css("width", "0%");
        var form = new FormData();
        form.append("fileDes", $("#testFileDes").val());
        //开始上传
        uploadBigFile($("#inputPassword"), "/course/addCourse", form, "fileDes");
    });
</script>
</body>
</html>